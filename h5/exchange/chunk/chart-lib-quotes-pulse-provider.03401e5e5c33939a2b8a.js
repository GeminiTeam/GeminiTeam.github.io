(window.webpackJsonp=window.webpackJsonp||[]).push([[30,27],{253:function(e,s,t){"use strict";var r=t(14),i=t(20);r(s,"__esModule",{value:!0}),s.getErrorMessage=function(e){if(void 0===e)return"";if("string"==typeof e)return e;return e.message},s.logMessage=function(e){if(n){var s,t,r=new Date;console.log((0,u.default)(s=(0,u.default)(t="".concat(r.toLocaleTimeString(),".")).call(t,r.getMilliseconds(),"> ")).call(s,e))}};var u=i(t(158)),n=!1},275:function(e,s,t){"use strict";var r=t(14),i=t(20);r(s,"__esModule",{value:!0}),s.QuotesPulseProvider=void 0;var u=i(t(162)),n=i(t(776)),a=i(t(754)),l=i(t(158)),o=i(t(42)),c=i(t(43)),d=t(253),f=function(){function e(s){(0,o.default)(this,e),this._subscribers={},this._requestsPending=0,this._timers=null,this._quotesProvider=s}return(0,c.default)(e,[{key:"subscribeQuotes",value:function(e,s,t,r){this._subscribers[r]={symbols:e,fastSymbols:s,listener:t},this._createTimersIfRequired(),(0,d.logMessage)("QuotesPulseProvider: subscribed quotes with #".concat(r))}},{key:"unsubscribeQuotes",value:function(e){delete this._subscribers[e],0===(0,u.default)(this._subscribers).length&&this._destroyTimers(),(0,d.logMessage)("QuotesPulseProvider: unsubscribed quotes with #".concat(e))}},{key:"_createTimersIfRequired",value:function(){if(null===this._timers){var e,s,t=(0,n.default)((0,a.default)(e=this._updateQuotes).call(e,this,1),1e4),r=(0,n.default)((0,a.default)(s=this._updateQuotes).call(s,this,0),6e4);this._timers={fastTimer:t,generalTimer:r}}}},{key:"_destroyTimers",value:function(){null!==this._timers&&(clearInterval(this._timers.fastTimer),clearInterval(this._timers.generalTimer),this._timers=null)}},{key:"_updateQuotes",value:function(e){var s=this;if(!(this._requestsPending>0)){var t=function(t){s._requestsPending++;var r=s._subscribers[t];s._quotesProvider.getQuotes(1===e?r.fastSymbols:r.symbols).then((function(i){var u,n;s._requestsPending--,s._subscribers.hasOwnProperty(t)&&(r.listener(i),(0,d.logMessage)((0,l.default)(u=(0,l.default)(n="QuotesPulseProvider: data for #".concat(t," (")).call(n,e,") updated successfully, pending=")).call(u,s._requestsPending)))})).catch((function(r){var i,u,n;s._requestsPending--,(0,d.logMessage)((0,l.default)(i=(0,l.default)(u=(0,l.default)(n="QuotesPulseProvider: data for #".concat(t," (")).call(n,e,") updated with error=")).call(u,(0,d.getErrorMessage)(r),", pending=")).call(i,s._requestsPending))}))};for(var r in this._subscribers)t(r)}}}]),e}();s.QuotesPulseProvider=f},754:function(e,s,t){e.exports=t(266)},776:function(e,s,t){e.exports=t(789)},789:function(e,s,t){t(268);var r=t(19);e.exports=r.setInterval}}]);