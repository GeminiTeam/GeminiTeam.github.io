(window.webpackJsonp=window.webpackJsonp||[]).push([[11,12,25,33,34,35],{112:function(e,t,n){"use strict";var r=n(44),a=n(107),i=n(14),o=n(35);i(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},u=i&&o;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=u?o(e,s):null;l&&(l.get||l.set)?i(a,s,l):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(0)),s=n(262);function c(e){if("function"!=typeof a)return null;var t=new a,n=new a;return(c=function(e){return e?n:t})(e)}var l=function(e){return u.createElement(s.LoadingWrapper,{className:e.isReady?"hide":""},u.createElement("div",{className:"loadingContent"},u.createElement("span",null),u.createElement("span",null),u.createElement("span",null),u.createElement("span",null),u.createElement("span",null)))};t.default=l},116:function(e,t,n){"use strict";(function(e,r,a){var i=n(44),o=n(107),u=n(14),s=n(35),c=n(20);u(t,"__esModule",{value:!0}),t.default=void 0;var l=c(n(776)),d=c(n(159)),f=c(n(170)),p=c(n(287)),h=c(n(759)),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=u&&s;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=a?s(e,o):null;c&&(c.get||c.set)?u(r,o,c):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(0)),m=n(271),g=c(n(112)),b=n(272),y=n(775),w=n(255),S=n(270);function _(e){if("function"!=typeof o)return null;var t=new o,n=new o;return(_=function(e){return e?n:t})(e)}var x=n(748),k=null,P=[],M="",A="",O=function(t){var n=(0,v.useState)(!1),i=(0,h.default)(n,2),o=i[0],u=i[1],s=(0,v.useState)(!1),c=(0,h.default)(s,2),_=c[0],O=c[1],E=(0,v.useState)(0),I=(0,h.default)(E,2),j=I[0],C=I[1],T=(0,v.useState)(0),D=(0,h.default)(T,2),R=D[0],q=D[1],U=(0,y.useObserver)(w.instrumentStore),L=U.currentInstrumentId,W=U.currentInterval,B=U.kLineAndMiddlePriceStatus,J=U.pricePrecision,N=U.volumePrecision,Q=(0,y.useObserver)(w.jsbridgeStore).jsbridgeStatus,F=(0,y.useObserver)(w.serverTimeStore).currentServerTime,H=(0,v.useRef)(null);(0,v.useEffect)((function(){window.h5App.getCandleStick=function(e){var t=e;try{t=JSON.parse(e)}catch(e){}window.h5App.kDataArray=t.kLine,window.h5App.middlePriceArray=t.middlePrice,"1"==t.status&&(w.instrumentStore.changeStatus(!0),w.instrumentStore.changePricePrecision(t.pricePrecision),w.instrumentStore.changeVolumePrecision(t.volumePrecision))},window.h5App.changeSymbol=function(e){w.instrumentStore.changeInstrumentId(e)},window.h5App.changeInterval=function(e){w.instrumentStore.changeInterval(e),w.instrumentStore.changeHttpInterval(S.dataMapping.getHttpInterval(e))},e.loadScript("".concat(r.widget.library_path,"charting_library.standalone.js"),(function(){O(!0)}),(function(){O(!1)}));var t=(0,l.default)((function(){C((function(e){return e+1}))}),1e3),n=(0,l.default)((function(){q((function(e){return e+1}))}),6e4);return function(){clearInterval(t),clearInterval(n)}}),[]),(0,v.useEffect)((function(){V()}),[Q]),(0,v.useEffect)((function(){o&&B&&W!=A&&(w.instrumentStore.changeStatus(!1),A=W,k.chart().setSymbol(L),k.chart().setResolution(W),k.chart().setChartType(1))}),[W,B]),(0,v.useEffect)((function(){L&&_&&L!=M&&(B?(u(!1),w.instrumentStore.changeStatus(!1),M=L,z()):u(!1))}),[L,B,_]),(0,v.useEffect)((function(){r.symbol.pricescale=Math.pow(10,J),r.symbol.volume_precision=N}),[J,N]);var z=function(){k&&(k.remove(),k=null),(!window.h5App.kDataArray||window.h5App.kDataArray.length<=0)&&(window.h5App.kDataArray=x,window.h5App.middlePriceArray=x);var e=(0,p.default)(r.widget,{symbol:L||"BTC/USDT",interval:W||"15",datafeed:new b.UDFCompatibleDatafeed(""),container:"tv_chart_container"});(k=new TradingView.widget(e)).onChartReady((function(){u(!0),Y()}))};(0,v.useEffect)((function(){var e=F+1e3;w.serverTimeStore.changeServerTime(e)}),[j]),(0,v.useEffect)((function(){V()}),[R]);var V=function(){Q&&a({url:"chart.getTimeStamp",showLoading:!1,callback:function(e){e&&"number"==typeof e&&w.serverTimeStore.changeServerTime(e)}})},Y=function(){P&&P.length>0&&((0,d.default)(P).call(P,(function(e){k.chart().removeEntity(e)})),P=[]);var e=r.ma.time;(0,f.default)(e).call(e,(function(e,t){k.chart().createStudy("Moving Average",!1,!1,{length:e},{"plot.color.0":r.ma.colors[t],"plot.linewidth":1,precision:J}).then((function(e){P.push(e)}))}));var t=window.h5App.middlePriceArray;t&&t.length>0&&k.chart().createStudy("Compare",!1,!1,["open","Market Middle Price"],{"plot.color.0":r.compare.color}).then((function(e){var t="".concat(r.symbol.pricescale,",1,false");k.applyOverrides({"mainSeriesProperties.priceAxisProperties.percentage":!1,"mainSeriesProperties.priceAxisProperties.autoScale":!1,"mainSeriesProperties.priceAxisProperties.indexedTo100":!1,"mainSeriesProperties.priceAxisProperties.log":!1,"mainSeriesProperties.minTick":t,"scalesProperties.showSymbolLabels":!1}),k.applyStudiesOverrides({"compare.precision":J,"compare.minTick":t}),k.chart().getPanes()[0].getRightPriceScales()[0].setMode(0),k.chart().getStudyById(e).changePriceScale("as-series"),k.chart().getStudyById(e).applyOverrides({precision:J,minTick:t}),P.push(e)}))};return v.default.createElement(m.WrapperIndexCmp,null,v.default.createElement("div",{ref:H,id:"tv_chart_container",className:o?"show":""}),v.default.createElement(g.default,{isReady:o}))};t.default=O}).call(this,n(169).default,n(838).default,n(799).default)},262:function(e,t,n){"use strict";var r=n(14),a=n(20);r(t,"__esModule",{value:!0}),t.LoadingWrapper=void 0;var i,o=a(n(156)),u=a(n(157)).default.div(i||(i=(0,o.default)(["\n    position: absolute;\n    z-index: 150;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    background-color: #fff;\n    background: transparent;\n    visibility: visible;\n    &.hide {\n        visibility: hidden;\n    }\n    .loadingContent {\n        position: absolute;\n        width: 48px;\n        height: 40px;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        margin: auto;\n        display: flex;\n        justify-content: space-between;\n        span {\n            display: inline-block;\n            width: 6px;\n            height: 100%;\n            background: rgba(57, 158, 250, 1);\n            animation: load 1.2s ease-in-out infinite;\n            &:nth-child(1) {\n                animation-delay: -1.2s;\n            }\n            &:nth-child(2) {\n                animation-delay: -1.1s;\n            }\n            &:nth-child(3) {\n                animation-delay: -1.0s;\n            }\n            &:nth-child(4) {\n                animation-delay: -0.9s;\n            }\n            &:nth-child(5) {\n                animation-delay: -0.8s;\n            }\n        }\n        @keyframes load {\n            0%, 40%, 100% {\n                // height: 16px;\n                transform: scaleY(0.4);\n                background: rgba(57, 158, 250, 1);\n            }\n            20% {\n                // height: 48px;\n                // margin: -18px 0px;\n                transform: scaleY(1);\n                background: rgba(38, 192, 249, 1);\n            }\n        }\n    }\n"])));t.LoadingWrapper=u},263:function(e,t,n){"use strict";var r=n(14),a=n(20);r(t,"__esModule",{value:!0}),t.QuotesProvider=void 0;var i=a(n(788)),o=a(n(42)),u=a(n(43)),s=n(253),c=function(){function e(t,n){(0,o.default)(this,e),this._datafeedUrl=t,this._requester=n}return(0,u.default)(e,[{key:"getQuotes",value:function(e){var t=this;return new i.default((function(n,r){t._requester.sendRequest(t._datafeedUrl,"quotes",{symbols:e}).then((function(e){"ok"===e.s?n(e.d):r(e.errmsg)})).catch((function(e){var t=(0,s.getErrorMessage)(e);(0,s.logMessage)("QuotesProvider: getQuotes failed, error=".concat(t)),r("network error: ".concat(t))}))}))}}]),e}();t.QuotesProvider=c},264:function(e,t,n){"use strict";var r=n(14),a=n(20);r(t,"__esModule",{value:!0}),t.Requester=void 0;var i=a(n(162)),o=a(n(159)),u=a(n(158)),s=a(n(42)),c=a(n(43)),l=n(253),d=function(){function e(t){(0,s.default)(this,e),t&&(this._headers=t)}return(0,c.default)(e,[{key:"sendRequest",value:function(e,t,n){var r;if(void 0!==n){var a=(0,i.default)(n);0!==a.length&&(t+="?"),t+=(0,o.default)(a).call(a,(function(e){var t;return(0,u.default)(t="".concat(encodeURIComponent(e),"=")).call(t,encodeURIComponent(n[e].toString()))})).join("&")}(0,l.logMessage)("New request: "+t);var s={credentials:"same-origin"};return void 0!==this._headers&&(s.headers=this._headers),fetch((0,u.default)(r="".concat(e,"/")).call(r,t),s).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)}))}}]),e}();t.Requester=d},270:function(e,t,n){"use strict";n(14)(t,"__esModule",{value:!0}),t.dataMapping=void 0;t.dataMapping={getHttpInterval:function(e){var t=e.toString();switch(e.toString()){case"1":t="1m";break;case"5":t="5m";break;case"15":t="15m";break;case"60":t="1h";break;case"240":t="4h";break;case"360":t="6h";break;case"720":t="12h";break;case"1D":t="1d";break;case"1W":t="1w";break;case"1M":t="1Mon"}return t}}},271:function(e,t,n){"use strict";var r=n(14),a=n(20);r(t,"__esModule",{value:!0}),t.WrapperIndexCmp=void 0;var i,o=a(n(156)),u=a(n(157)).default.div(i||(i=(0,o.default)(["\n    #tv_chart_container {\n        display: block;\n        box-sizing: border-box;\n        margin: 0;\n        min-width: 0;\n        height: 100%;\n        visibility: hidden;\n        &.show {\n            visibility: visible;\n        }\n    }\n"])));t.WrapperIndexCmp=u},272:function(e,t,n){"use strict";var r=n(288),a=n(14),i=n(20);a(t,"__esModule",{value:!0}),t.UDFCompatibleDatafeed=void 0;var o=i(n(43)),u=i(n(42)),s=i(n(289)),c=i(n(290)),l=i(n(291)),d=n(273),f=n(263),p=n(264);function h(e){var t=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=r(a,arguments,i)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var v=function(e){(0,s.default)(n,e);var t=h(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,a=arguments.length>2?arguments[2]:void 0;(0,u.default)(this,n);var i=new p.Requester,o=new f.QuotesProvider(e,i);return t.call(this,e,o,i,r,a)}return(0,o.default)(n)}(d.UDFCompatibleDatafeedBase);t.UDFCompatibleDatafeed=v},759:function(e,t,n){var r=n(790),a=n(791),i=n(781),o=n(792);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},775:function(e,t,n){"use strict";n.r(t),n.d(t,"useObserver",(function(){return i}));var r=n(17),a=n(0);function i(e){let t,n;if("function"==typeof e)n=e,t=e();else{if(!Object(r.isObservable)(e))return console.warn("args is not a mobx object or a reaction function"),e;t=e,n=()=>Object(r.toJS)(t)}const[i,o]=Object(a.useState)(Object(r.toJS)(t)),u=Object(r.reaction)(n,e=>{o(e)});return Object(a.useEffect)(()=>()=>{u()},[]),i}},790:function(e,t,n){var r=n(777);e.exports=function(e){if(r(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},791:function(e,t,n){var r=n(257),a=n(757);e.exports=function(e,t){var n=null==e?null:void 0!==r&&a(e)||e["@@iterator"];if(null!=n){var i,o,u,s,c=[],l=!0,d=!1;try{if(u=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=u.call(n)).done)&&(c.push(i.value),c.length!==t);l=!0);}catch(e){d=!0,o=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw o}}return c}},e.exports.__esModule=!0,e.exports.default=e.exports},792:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}}]);