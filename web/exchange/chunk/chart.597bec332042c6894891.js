(window.webpackJsonp=window.webpackJsonp||[]).push([[6,7,13,17,18,19],{111:function(e,n,t){"use strict";var r=t(42),i=t(106),a=t(22),o=t(41);a(n,"__esModule",{value:!0}),n.default=void 0;var u=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=l(n);if(t&&t.has(e))return t.get(e);var i={},u=a&&o;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var s=u?o(e,c):null;s&&(s.get||s.set)?a(i,c,s):i[c]=e[c]}i.default=e,t&&t.set(e,i);return i}(t(0)),c=t(243);function l(e){if("function"!=typeof i)return null;var n=new i,t=new i;return(l=function(e){return e?t:n})(e)}var s=function(e){return u.createElement(c.LoadingWrapper,{className:e.isReady?"hide":""},u.createElement("div",{className:"loadingContent"},u.createElement("span",null),u.createElement("span",null),u.createElement("span",null),u.createElement("span",null),u.createElement("span",null)))};n.default=s},115:function(e,n,t){"use strict";(function(e,r){var i=t(42),a=t(106),o=t(22),u=t(41),c=t(27);o(n,"__esModule",{value:!0}),n.default=void 0;var l=c(t(146)),s=c(t(155)),d=c(t(276)),f=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=b(n);if(t&&t.has(e))return t.get(e);var r={},a=o&&u;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var l=a?u(e,c):null;l&&(l.get||l.set)?o(r,c,l):r[c]=e[c]}r.default=e,t&&t.set(e,r);return r}(t(0)),p=t(254),v=c(t(111)),h=t(255),m=t(755),g=t(253);function b(e){if("function"!=typeof a)return null;var n=new a,t=new a;return(b=function(e){return e?t:n})(e)}var w=t(715),y=null,_=[],S=function(n){var t=(0,m.useObserver)(g.instrumentStore),i=t.currentInstrumentId,a=t.currentInterval,o=t.kLineAndMiddlePriceStatus,u=t.pricePrecision,c=t.volumePrecision,b=(0,m.useObserver)(g.jsbridgeStore).jsbridgeStatus,S=(0,f.useRef)(null);(0,f.useEffect)((function(){o&&e.loadScript("".concat(r.widget.library_path,"charting_library.standalone.js"),(function(){P()}),(function(){console.log("load tradingview error")}))}),[o]),(0,f.useEffect)((function(){b&&window.flutter_inappwebview.callHandler("getCandleStick",(function(e){window.webApp.kDataArray=e.kLine,window.webApp.middlePriceArray=e.middlePrice})),window.webApp.changeInstrument=function(e){g.instrumentStore.changeInstrumentId(e.instrumentId),g.instrumentStore.changeInterval(e.interval),g.instrumentStore.changePricePrecision(e.pricePrecision),g.instrumentStore.changeVolumePrecision(e.volumePrecision)},window.webApp.changeStatus=function(e){g.instrumentStore.changeStatus(e)}}),[b]),(0,f.useEffect)((function(){y&&(y.chart().setSymbol(i),y.chart().setResolution(a),y.chart().setChartType(1))}),[i,a]),(0,f.useEffect)((function(){r.symbol.pricescale=Math.pow(10,u),r.symbol.volume_precision=c}),[u,c]);var P=function(){y&&y.remove(),(!window.webApp.kDataArray||window.webApp.kDataArray.length<=0)&&(window.webApp.kDataArray=w,window.webApp.middlePriceArray=w);var e=(0,d.default)(r.widget,{symbol:i||"BTC/USDT",interval:a||"15",datafeed:new h.UDFCompatibleDatafeed(""),container:"tv_chart_container"});(y=new TradingView.widget(e)).onChartReady((function(){k()}))},k=function(){_&&_.length>0&&((0,l.default)(_).call(_,(function(e){y.chart().removeEntity(e)})),_=[]);var e=r.ma.time;(0,s.default)(e).call(e,(function(e,n){y.chart().createStudy("Moving Average",!1,!1,{length:e},{"plot.color.0":r.ma.colors[n],"plot.linewidth":1,precision:u}).then((function(e){_.push(e)}))}));var n=window.webApp.middlePriceArray;n&&n.length>0&&y.chart().createStudy("Compare",!1,!1,["open","Market Middle Price"],{"plot.color.0":r.compare.color}).then((function(e){var n="".concat(r.symbol.pricescale,",1,false");y.applyOverrides({"mainSeriesProperties.priceAxisProperties.percentage":!1,"mainSeriesProperties.priceAxisProperties.autoScale":!1,"mainSeriesProperties.priceAxisProperties.indexedTo100":!1,"mainSeriesProperties.priceAxisProperties.log":!1,"mainSeriesProperties.minTick":n,"scalesProperties.showSymbolLabels":!1}),y.applyStudiesOverrides({"compare.precision":u,"compare.minTick":n}),y.chart().getPanes()[0].getRightPriceScales()[0].setMode(0),y.chart().getStudyById(e).changePriceScale("as-series"),y.chart().getStudyById(e).applyOverrides({precision:u,minTick:n}),_.push(e)}))};return f.default.createElement(p.WrapperIndexCmp,null,f.default.createElement("div",{ref:S,id:"tv_chart_container"}),f.default.createElement(v.default,{isReady:o}))};n.default=S}).call(this,t(158).default,t(797).default)},243:function(e,n,t){"use strict";var r=t(22),i=t(27);r(n,"__esModule",{value:!0}),n.LoadingWrapper=void 0;var a,o=i(t(240)),u=i(t(241)).default.div(a||(a=(0,o.default)(["\n    position: absolute;\n    z-index: 150;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    background-color: #fff;\n    background: transparent;\n    visibility: visible;\n    &.hide {\n        visibility: hidden;\n    }\n    .loadingContent {\n        position: absolute;\n        width: 48px;\n        height: 40px;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        margin: auto;\n        display: flex;\n        justify-content: space-between;\n        span {\n            display: inline-block;\n            width: 6px;\n            height: 100%;\n            background: rgba(57, 158, 250, 1);\n            animation: load 1.2s ease-in-out infinite;\n            &:nth-child(1) {\n                animation-delay: -1.2s;\n            }\n            &:nth-child(2) {\n                animation-delay: -1.1s;\n            }\n            &:nth-child(3) {\n                animation-delay: -1.0s;\n            }\n            &:nth-child(4) {\n                animation-delay: -0.9s;\n            }\n            &:nth-child(5) {\n                animation-delay: -0.8s;\n            }\n        }\n        @keyframes load {\n            0%, 40%, 100% {\n                // height: 16px;\n                transform: scaleY(0.4);\n                background: rgba(57, 158, 250, 1);\n            }\n            20% {\n                // height: 48px;\n                // margin: -18px 0px;\n                transform: scaleY(1);\n                background: rgba(38, 192, 249, 1);\n            }\n        }\n    }\n"])));n.LoadingWrapper=u},244:function(e,n,t){"use strict";var r=t(22),i=t(27);r(n,"__esModule",{value:!0}),n.QuotesProvider=void 0;var a=i(t(728)),o=i(t(60)),u=i(t(61)),c=t(238),l=function(){function e(n,t){(0,o.default)(this,e),this._datafeedUrl=n,this._requester=t}return(0,u.default)(e,[{key:"getQuotes",value:function(e){var n=this;return new a.default((function(t,r){n._requester.sendRequest(n._datafeedUrl,"quotes",{symbols:e}).then((function(e){"ok"===e.s?t(e.d):r(e.errmsg)})).catch((function(e){var n=(0,c.getErrorMessage)(e);(0,c.logMessage)("QuotesProvider: getQuotes failed, error=".concat(n)),r("network error: ".concat(n))}))}))}}]),e}();n.QuotesProvider=l},245:function(e,n,t){"use strict";var r=t(22),i=t(27);r(n,"__esModule",{value:!0}),n.Requester=void 0;var a=i(t(149)),o=i(t(146)),u=i(t(145)),c=i(t(60)),l=i(t(61)),s=t(238),d=function(){function e(n){(0,c.default)(this,e),n&&(this._headers=n)}return(0,l.default)(e,[{key:"sendRequest",value:function(e,n,t){var r;if(void 0!==t){var i=(0,a.default)(t);0!==i.length&&(n+="?"),n+=(0,o.default)(i).call(i,(function(e){var n;return(0,u.default)(n="".concat(encodeURIComponent(e),"=")).call(n,encodeURIComponent(t[e].toString()))})).join("&")}(0,s.logMessage)("New request: "+n);var c={credentials:"same-origin"};return void 0!==this._headers&&(c.headers=this._headers),fetch((0,u.default)(r="".concat(e,"/")).call(r,n),c).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)}))}}]),e}();n.Requester=d},254:function(e,n,t){"use strict";var r=t(22),i=t(27);r(n,"__esModule",{value:!0}),n.WrapperIndexCmp=void 0;var a,o=i(t(240)),u=i(t(241)).default.div(a||(a=(0,o.default)(["\n    #tv_chart_container {\n        display: block;\n        box-sizing: border-box;\n        margin: 0;\n        min-width: 0;\n        height: 100%;\n    }\n"])));n.WrapperIndexCmp=u},255:function(e,n,t){"use strict";var r=t(266),i=t(22),a=t(27);i(n,"__esModule",{value:!0}),n.UDFCompatibleDatafeed=void 0;var o=a(t(61)),u=a(t(60)),c=a(t(267)),l=a(t(268)),s=a(t(269)),d=t(256),f=t(244),p=t(245);function v(e){var n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,i=(0,s.default)(e);if(n){var a=(0,s.default)(this).constructor;t=r(i,arguments,a)}else t=i.apply(this,arguments);return(0,l.default)(this,t)}}var h=function(e){(0,c.default)(t,e);var n=v(t);function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,i=arguments.length>2?arguments[2]:void 0;(0,u.default)(this,t);var a=new p.Requester,o=new f.QuotesProvider(e,a);return n.call(this,e,o,a,r,i)}return(0,o.default)(t)}(d.UDFCompatibleDatafeedBase);n.UDFCompatibleDatafeed=h},755:function(e,n,t){"use strict";t.r(n),t.d(n,"useObserver",(function(){return a}));var r=t(19),i=t(0);function a(e){let n,t;if("function"==typeof e)t=e,n=e();else{if(!Object(r.isObservable)(e))return console.warn("args is not a mobx object or a reaction function"),e;n=e,t=()=>Object(r.toJS)(n)}const[a,o]=Object(i.useState)(Object(r.toJS)(n)),u=Object(r.reaction)(t,e=>{o(e)});return Object(i.useEffect)(()=>()=>{u()},[]),a}}}]);